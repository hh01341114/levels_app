<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org" xmlns:layout="http://www.ultrap.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
	<title>ユーザー管理</title>
</head>

<body>
	<div layout:fragment="content">
		<h2>社員一覧</h2>
		<form method="get" th:action="@{/usermanagement/userlist}" class="form-inline mb-3 d-flex">
			<select name="departmentId" class="form-control me-2">
				<option value="">全ての部署</option>
				<option value="1" th:selected="${departmentId == 1}">人事部</option>
				<option value="2" th:selected="${departmentId == 2}">IT部</option>
				<option value="3" th:selected="${departmentId == 3}">営業部</option>
			</select>
			<button type="submit" class="btn btn-primary me-4 text-nowrap">絞り込む</button>
			
			<div class="d-flex align-items-center">
				<label for="userId" class="mr-2" style="white-space: nowrap;">ユーザー名</label>
				<input type="text" class="form-control me-2" name="email" th:value="${email}" />

				<button class="btn btn-primary text-nowrap" type=" submit">検索 </button>
			</div>
		</form>
		<table class="table table-striped table-bordered table-hover">
			<thead style="white-space: nowrap;">
				<th class="th-width">ユーザーID</th>
				<th class="th-width">ユーザー名</th>
				<th class="th-width">所属</th>
				<th class="text-center" style="width:1%;">操作</th>
			</thead>
			<tbody>
				<tr th:each="item: ${getList}">
					<td th:text="${item.email}"></td>
					<td th:text="${item.name}"></td>
					<td th:text="${item.departmentName}"></td>
					<td class="align-middle">
						<div class="gap-4 text-nowrap">
							<a class="btn btn-primary btn-sm" th:href="@{'/user/detail/' + ${item.email}}">ユーザー情報を編集する</a>
							<a class="btn btn-primary ms-3 btn-sm" th:href="@{'/attendancemanagement/history/' + ${item.email}}">勤怠履歴を確認する</a>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<!--ユーザー登録-->
		<div class="text-center">
			<a class="btn text-center btn-success" th:href="@{/usermanagement/signup}">ユーザーを登録する</a>
		</div>
	</div>

</body>

</html>